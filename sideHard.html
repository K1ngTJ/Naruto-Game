<html>
  <head>
      <script src="p5.min.js"></script>
      <script src="p5.collide2d.min.js"></script>

 <style>
  body{
  overflow:hidden;
  margin:0;
  padding:0;
  }
  </style>
  </head>
  <body>
    
    <script>
var w = window.innerWidth;
var h = window.innerHeight;
var jumper = new jumper();
var barrier = new barrier();
var barrier2 = new barrier2();
var barrier3 = new barrier3();
var barrier4 = new barrier4();
var hit = false;
var hit2 = false;
var hit3 = false;
var hit4 = false;
var balll = 50;
var counterr = 0;
var rand1 = Math.floor(Math.random()*200);
var rand2 = Math.floor(Math.random()*200)+200;
var rand3 = Math.floor(Math.random()*200);
var rand4 = Math.floor(Math.random()*200)+200;
var rand5 = Math.floor(Math.random()*155)+50;
var rand6 = Math.floor(Math.random()*155)+50;
var rand7 = Math.floor(Math.random()*155)+50;
var rand8 = Math.floor(Math.random()*155)+50;
let img;
let img2;
let img3;
      function setup(){
        createCanvas(w,h);
        img = loadImage('village.jpg')
        img2 = loadImage('kakashi.png')
        img3 = loadImage('running.png')
        img4 = loadImage('kakashi.png')

      }
      function draw() {
      background(img);
      jumper.show();
      jumper.update();
      barrier.show();
      barrier.update();
      barrier.kill();
      barrier2.show();
      barrier2.update();
      barrier2.kill();
      barrier3.show();
      barrier3.update();
      barrier3.kill();
      barrier4.show();
      barrier4.update();
      barrier4.kill();
   
      hit = collideRectRect(barrier.x,rand1,rand5,50,jumper.x,jumper.y,50,50);
      hit2 = collideRectRect(barrier2.x,rand2,rand6,50,jumper.x,jumper.y,50,50);
      hit3 = collideRectRect(barrier3.x,rand3,rand7,50,jumper.x,jumper.y,50,50);
      hit4 = collideRectRect(barrier4.x,rand4,rand8,50,jumper.x,jumper.y,50,50);

      print("colliding? " + hit);
      textSize(30);
      fill(color("white"));
      text("Score: " + counterr,25, 30);
      }

      function jumper() {
        this.x = 50;
        this.y = 0;
        this.gravity = 0.5; //Force of gravity
        this.lift = -8;
        this.velocity = 0;
        
        
        this.show = function(){
                   image(img3,this.x,this.y,50,50  )

        }
        
        this.up = function(){
          this.velocity += this.lift;
          
        }
        this.update = function() {
          this.velocity += this.gravity;
          this.y += this.velocity;
          this.velocity *= 0.8;
          if(this.y > h){
            this.y = h -50  ;
            this.velocity = 0;
            
          }
          if(this.y < 0) {
            this.y = 0;
            this.velocity = 0;
          }
          
        }
      }
      
      function keyPressed() {
        if(keyCode == 32){
          jumper.up();
        }
      
        
        if(keyCode == 82){
          document.location.reload(true)
    
        }
        if(keyCode == 66){
          window.location.replace("index.html");

        }
      }
      
           function barrier() {
        this.x = w;
        this.y = rand1;
        this.gravity = 0.5; //Force of gravity
        this.velocity = 1;
         
        this.show = function() {
                   image(img2 ,this.x,rand1,50,50  )

        }
        
       
        this.update = function()  {
          this.velocity += this.gravity;
          this.x -= this.velocity;
        
          if(this.x < 0){
          counterr += 1;
          this.x= w;
          this.velocity = 0;
              textSize(30);
          fill(color("white"));
          text("Score: " + counterr,25, 30);
          rand1 =  Math.floor(Math.random()*500)+155;
          rand5 = Math.floor(Math.random()*100)+50;

      
      
  
          }
          if(counterr === 40){
            textSize(200);
          fill(color("white"));
          text("YOU WIN",25, 500, );
            noLoop();
          }
          
        }
  this.kill = function() {
    if(hit === true){
    noLoop()
    textSize(85);
    fill(color("white"));
    text("GAME OVER HIT 'R' TO RESTART",15, 500);
    

      }
      }
 }
      function barrier2() {
     this.x = w;
     this.y = rand2;
     this.gravity = 0.5; //Force of gravity
     this.velocity = 0.5;
        
      this.show = function() {
                 image(img2 ,this.x,rand2,50,50  )

        }
      this.update = function()  {
        this.velocity += this.gravity;
        this.x -= this.velocity;
    if(this.x < 0){
      counterr += 1;

      this.x= w;
      this.y = Math.floor(Math.random()*500);;
      this.velocity = 0;
      textSize(30);
      fill(color("white"));
      text("Score: " + counterr,25, 30);
      rand2 =  Math.floor(Math.random()*500)+155;
      rand6 = Math.floor(Math.random()*100)+50;

        }
      if(counterr === 40){
        textSize(200);
        fill(color("white"));
        text("YOU WIN",25, 500, );
        noLoop();
        }
        }
    this.kill = function() {
      if(hit2 === true){
      noLoop();
      textSize(85);
      fill(color("white"));
      text("GAME OVER HIT 'R' TO RESTART",15, 500);
      }
      }
 }
 function barrier3() {
        this.x = w;
        this.y = rand3;
        this.gravity = 0.5; //Force of gravity
        this.velocity = 2;
         
        this.show = function() {
                    image(img2 ,this.x,rand3,50,50  )

        }
        
       
        this.update = function()  {
          this.velocity += this.gravity;
          this.x -= this.velocity;
        
          if(this.x < 0){
          counterr += 1;
          this.x= w;
          this.velocity = 0;
              textSize(30);
          fill(color("white"));
          text("Score: " + counterr,25, 30);
          rand3=  Math.floor(Math.random()*500)+155;
          rand7 = Math.floor(Math.random()*100)+50;

      
      
  
          }
          if(counterr === 40){
            textSize(200);
          fill(color("white"));
          text("YOU WIN",25, 500, );
            noLoop();
          }
          
        }
  this.kill = function() {
    if(hit3 === true){
    noLoop()
    textSize(85);
    fill(color("white"));
    text("GAME OVER HIT 'R' TO RESTART",15, 500);
    

      }
      }
 }
      function barrier4() {
     this.x = w;
     this.y = rand4;
     this.gravity = 0.8; //Force of gravity
     this.velocity = 0.2;
        
      this.show = function() {
                  image(img2 ,this.x,rand8,50,50  )

        }
      this.update = function()  {
        this.velocity += this.gravity;
        this.x -= this.velocity;
    if(this.x < 0){
      this.x= w;
      counterr += 1;
        rand8 = Math.floor(Math.random()*100)+50;

      this.y = Math.floor(Math.random()*500);;
      this.velocity = 0;
      textSize(30);
      fill(color("white"));
      text("Score: " + counterr,25, 30);
      rand4 =  Math.floor(Math.random()*500)+155;
        }
      if(counterr === 40){
        textSize(200);
        fill(color("white"));
        text("YOU WIN",25, 500, );
        noLoop();
       

        }
        if(counterr > 20){
       
        barrier.velocity += 1.5;
        barrier2.velocity +=1.5;
        barrier3.velocity += 1.5;
        barrier4.velocity += 1.5;

        }
        if(counterr > 25){
       
       barrier.velocity += 2.2;
       barrier2.velocity +=2.2;
       barrier3.velocity += 2.2;
       barrier4.velocity += 2.2;

       }
        }
    this.kill = function() {
      if(hit4 === true){
      noLoop();
      textSize(85);
      fill(color("white"));
      text("GAME OVER HIT 'R' TO RESTART",15, 500);
      }
      }
 }
    </script>
  </body>
</html>
